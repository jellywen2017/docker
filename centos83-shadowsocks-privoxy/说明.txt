
pip3 install shadowsocks
yum install -y libsodium.x86_64 privoxy.x86_64

vi /etc/shadowsocks.json
{
  "server":"47.241.67.116",
  "local_address": "127.0.0.1",
  "local_port":1080,//保持和privoxy的端口一致
  "server_port":100,
  "password":"密码",
  "timeout":300,
  "method":"chacha20"
}

//手动运行
//sslocal -s "47.241.67.116" -p 100 -l 1080 -k "自己密码" -t 600 -m chacha20

//配置文件方式运行
//sslocal -c /etc/shadowsocks.json -d start


vim /etc/privoxy/config

//1先搜索关键字:listen-address找到listen-address 127.0.0.1:8118这一句，保证这一句没有注释，8118就是将来http代理要输入的端口。
将
listen-address 127.0.0.1:8118
改为
listen-address 0.0.0.0:8118
这样容器外部就能使用这个代理了

//2将注释拿掉 端口改成和shadowsocks 一致
#        forward-socks5t   /               127.0.0.1:9050 .
为
        forward-socks5t   /               127.0.0.1:1080 .

//启动 privoxy
privoxy /etc/privoxy/config

//配置代理
export http_proxy=http://127.0.0.1:8118
export https_proxy=http://127.0.0.1:8118
export ftp_proxy=http://127.0.0.1:8118




